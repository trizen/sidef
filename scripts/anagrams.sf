#!/usr/bin/ruby

# http://rosettacode.org/wiki/Anagrams

func main() {
    var lwp = (
        try   { require 'LWP::Simple'->() }
        catch { Sys.warn("** LWP::Simple is not installed!\n"); return }
    );

    var words = Str.new(lwp.get('http://www.puzzlers.org/pub/wordlists/unixdict.txt')).words;

    "** Processing words...".say;
    var vls = words.group_by{.sort}.values;
    var max = vls.map{.len}.max;
    vls.grep{.len == max}.each{.join("\t").say};
}

main();
