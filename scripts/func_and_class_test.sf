#!/usr/bin/ruby

#
## This script is used for testing only
#

# Default parameter value
func hello (name="Sidef") {
    say "Hello, #{name}!";
}

hello();
hello("World");

# Naked parameter
func hei name {
    say name;
}

hei("Jack");

# Optional argument
func hello(a, b=2) {
    b == a+1 || "b != #{a+1}".die;
    say "a == #{a}";
}

hello(1);
hello(42, 43);

# Class + operator-like method
class Something (sum) {
    func + (self, val) {
        say val;
        say self.sum;
    }

    func (str) {
        say str;
    }("OK: anonymous func()");
}

var obj = Something(42);
obj + 21;

# Variable declaration tests
var (x, y=755, z=777) = (666, 655);
x == 666 || "x != 666".die;
y == 655 || "y != 655".die;
z == 777 || "z != 777".die;

func{"All done".say}();
